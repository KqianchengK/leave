(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c432688"],{2994:function(t,i,e){"use strict";e("68ef"),e("e3b3"),e("c0c2")},"2bdd":function(t,i,e){"use strict";var n=e("d282"),a=e("02de"),s=e("a8c1"),o=e("5fbe"),r=e("543e"),c=Object(n["a"])("list"),d=c[0],l=c[1],u=c[2];i["a"]=d({mixins:[Object(o["a"])((function(t){this.scroller||(this.scroller=Object(s["d"])(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var i,e=t.$el,n=t.scroller,s=t.offset,o=t.direction;i=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight};var r=i.bottom-i.top;if(!r||Object(a["a"])(e))return!1;var c=!1,d=t.$refs.placeholder.getBoundingClientRect();c="up"===o?i.top-d.top<=s:d.bottom-i.bottom<=s,c&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:l("loading")},[this.slots("loading")||t(r["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var i=this.slots("finished")||this.finishedText;if(i)return t("div",{class:l("finished-text")},[i])}},genErrorText:function(){var t=this.$createElement;if(this.error){var i=this.slots("error")||this.errorText;if(i)return t("div",{on:{click:this.clickErrorText},class:l("error-text")},[i])}}},render:function(){var t=arguments[0],i=t("div",{ref:"placeholder",key:"placeholder",class:l("placeholder")});return t("div",{class:l(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},"3d70":function(t,i,e){"use strict";function n(t){var i="",e=function(t){return i=n(s(o(a(t),8*t.length))),i.toLowerCase()};function n(t){for(var i,e="0123456789ABCDEF",n="",a=0;a<t.length;a++)i=t.charCodeAt(a),n+=e.charAt(i>>>4&15)+e.charAt(15&i);return n}function a(t){for(var i=Array(t.length>>2),e=0;e<i.length;e++)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function s(t){for(var i="",e=0;e<32*t.length;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function o(t,i){t[i>>5]|=128<<i%32,t[14+(i+64>>>9<<4)]=i;for(var e=1732584193,n=-271733879,a=-1732584194,s=271733878,o=0;o<t.length;o+=16){var r=e,h=n,f=a,p=s;n=u(n=u(n=u(n=u(n=l(n=l(n=l(n=l(n=d(n=d(n=d(n=d(n=c(n=c(n=c(n=c(n,a=c(a,s=c(s,e=c(e,n,a,s,t[o+0],7,-680876936),n,a,t[o+1],12,-389564586),e,n,t[o+2],17,606105819),s,e,t[o+3],22,-1044525330),a=c(a,s=c(s,e=c(e,n,a,s,t[o+4],7,-176418897),n,a,t[o+5],12,1200080426),e,n,t[o+6],17,-1473231341),s,e,t[o+7],22,-45705983),a=c(a,s=c(s,e=c(e,n,a,s,t[o+8],7,1770035416),n,a,t[o+9],12,-1958414417),e,n,t[o+10],17,-42063),s,e,t[o+11],22,-1990404162),a=c(a,s=c(s,e=c(e,n,a,s,t[o+12],7,1804603682),n,a,t[o+13],12,-40341101),e,n,t[o+14],17,-1502002290),s,e,t[o+15],22,1236535329),a=d(a,s=d(s,e=d(e,n,a,s,t[o+1],5,-165796510),n,a,t[o+6],9,-1069501632),e,n,t[o+11],14,643717713),s,e,t[o+0],20,-373897302),a=d(a,s=d(s,e=d(e,n,a,s,t[o+5],5,-701558691),n,a,t[o+10],9,38016083),e,n,t[o+15],14,-660478335),s,e,t[o+4],20,-405537848),a=d(a,s=d(s,e=d(e,n,a,s,t[o+9],5,568446438),n,a,t[o+14],9,-1019803690),e,n,t[o+3],14,-187363961),s,e,t[o+8],20,1163531501),a=d(a,s=d(s,e=d(e,n,a,s,t[o+13],5,-1444681467),n,a,t[o+2],9,-51403784),e,n,t[o+7],14,1735328473),s,e,t[o+12],20,-1926607734),a=l(a,s=l(s,e=l(e,n,a,s,t[o+5],4,-378558),n,a,t[o+8],11,-2022574463),e,n,t[o+11],16,1839030562),s,e,t[o+14],23,-35309556),a=l(a,s=l(s,e=l(e,n,a,s,t[o+1],4,-1530992060),n,a,t[o+4],11,1272893353),e,n,t[o+7],16,-155497632),s,e,t[o+10],23,-1094730640),a=l(a,s=l(s,e=l(e,n,a,s,t[o+13],4,681279174),n,a,t[o+0],11,-358537222),e,n,t[o+3],16,-722521979),s,e,t[o+6],23,76029189),a=l(a,s=l(s,e=l(e,n,a,s,t[o+9],4,-640364487),n,a,t[o+12],11,-421815835),e,n,t[o+15],16,530742520),s,e,t[o+2],23,-995338651),a=u(a,s=u(s,e=u(e,n,a,s,t[o+0],6,-198630844),n,a,t[o+7],10,1126891415),e,n,t[o+14],15,-1416354905),s,e,t[o+5],21,-57434055),a=u(a,s=u(s,e=u(e,n,a,s,t[o+12],6,1700485571),n,a,t[o+3],10,-1894986606),e,n,t[o+10],15,-1051523),s,e,t[o+1],21,-2054922799),a=u(a,s=u(s,e=u(e,n,a,s,t[o+8],6,1873313359),n,a,t[o+15],10,-30611744),e,n,t[o+6],15,-1560198380),s,e,t[o+13],21,1309151649),a=u(a,s=u(s,e=u(e,n,a,s,t[o+4],6,-145523070),n,a,t[o+11],10,-1120210379),e,n,t[o+2],15,718787259),s,e,t[o+9],21,-343485551),e=g(e,r),n=g(n,h),a=g(a,f),s=g(s,p)}return Array(e,n,a,s)}function r(t,i,e,n,a,s){return g(h(g(g(i,t),g(n,s)),a),e)}function c(t,i,e,n,a,s,o){return r(i&e|~i&n,t,i,a,s,o)}function d(t,i,e,n,a,s,o){return r(i&n|e&~n,t,i,a,s,o)}function l(t,i,e,n,a,s,o){return r(i^e^n,t,i,a,s,o)}function u(t,i,e,n,a,s,o){return r(e^(i|~n),t,i,a,s,o)}function g(t,i){var e=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(e>>16)<<16|65535&e}function h(t,i){return t<<i|t>>>32-i}var f=e(t),p=f.substring(12,16)+f.substring(8,12)+f.substring(20,24)+f.substring(4,8)+f.substring(16,20)+f.substring(24)+f.substring(0,4);return p}e.d(i,"a",(function(){return n}))},"4fd6":function(t,i,e){},"58e6":function(t,i,e){"use strict";var n=e("d282"),a=e("1325"),s=e("a8c1"),o=e("3875"),r=e("543e"),c=Object(n["a"])("pull-refresh"),d=c[0],l=c[1],u=c[2],g=50,h=["pulling","loosing","success"];i["a"]=d({mixins:[o["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:[Number,String],value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:g}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==g)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=Object(s["d"])(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===Object(s["c"])(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(Object(a["c"])(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},ease:function(t){var i=+(this.pullDistance||this.headHeight);return t>i&&(t=t<2*i?i+(t-i)/2:1.5*i+(t-2*i)/4),Math.round(t)},setStatus:function(t,i){var e;e=i?"loading":0===t?"normal":t<(this.pullDistance||this.headHeight)?"pulling":"loosing",this.distance=t,e!==this.status&&(this.status=e)},genStatus:function(){var t=this.$createElement,i=this.status,e=this.distance,n=this.slots(i,{distance:e});if(n)return n;var a=[],s=this[i+"Text"]||u(i);return-1!==h.indexOf(i)&&a.push(t("div",{class:l("text")},[s])),"loading"===i&&a.push(t(r["a"],{attrs:{size:"16"}},[s])),a},showSuccessTip:function(){var t=this;this.status="success",setTimeout((function(){t.setStatus(0)}),this.successDuration)}},render:function(){var t=arguments[0],i={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:l()},[t("div",{ref:"track",class:l("track"),style:i},[t("div",{class:l("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},"6ab3":function(t,i,e){},"98ed":function(t,i,e){"use strict";(function(t){e.d(i,"a",(function(){return h}));e("28a5"),e("e7e5"),e("d399"),e("4917");var n=e("3bb1"),a=e("e0c9"),s=e("3d70"),o=function(){var t=navigator.userAgent;return{mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Adr")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1}},r=function(t){var i={wxurl:t,time:(new Date).getTime()},e=Object(a["a"])("post","gaut_getwechatconfig",i);return e},c=function(t,i){var e=window.WeixinJSBridge;void 0===e&&i("微信组件错误，请重新打开应用");var a=/(Android)/i.test(navigator.userAgent)?location.href.split("#")[0]:window.weixinurl;r(a).then((function(e){void 0!==e&&0===e.code?(wx.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["getLocation"]}),wx.ready((function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){!0===e.checkResult.getLocation?wx.getLocation({type:"wgs84",success:function(i){var e=i.latitude,a=i.longitude,o=i.accuracy,r={};r["latitude"]=e,r["longitude"]=a,r["accuracy"]=o,r["address"]="";var c=JSON.stringify(r);Object(n["d"])("gxqtposition_md",Object(s["a"])(c)),t(c)},fail:function(t){i("wxlocationerror:"+JSON.stringify(t))}}):i("当前客户端版本不支持定位")},fail:function(t){i("wxcheckerror:"+JSON.stringify(t))}}),wx.error((function(t){i("wxerror:"+JSON.stringify(t))}))}))):i("系统返回信息:"+JSON.stringify(e.msg))}))},d=function(t){var i={wxurl:t,time:(new Date).getTime()},e=Object(a["a"])("post","gaut_getwechatqyconfig",i);return e},l=function(t,i){var e=window.WeixinJSBridge;void 0===e&&i("企业微信组件错误，请重新打开应用");var a=/(Android)/i.test(navigator.userAgent)?location.href.split("#")[0]:window.weixinurl,o=navigator.userAgent.toLowerCase(),r=o.match(/wxwork\/([\d\.]+)/i);r&&(a=location.href.split("#")[0]),d(a).then((function(e){void 0!==e&&0===e.code&&(wx.config({beta:!0,debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["getLocation"]}),wx.ready((function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){!0===e.checkResult.getLocation?wx.getLocation({type:"wgs84",success:function(i){var e=i.latitude,a=i.longitude,o=i.accuracy,r={};r["latitude"]=e,r["longitude"]=a,r["accuracy"]=o,r["address"]="";var c=JSON.stringify(r);Object(n["d"])("gxqtposition_md",Object(s["a"])(c)),t(c)},fail:function(t){i("error:"+JSON.stringify(t))}}):i("当前客户端版本不支持定位")},fail:function(t){i("qywxcheckerror:"+JSON.stringify(t))}}),wx.error((function(t){i("qywxerror:"+JSON.stringify(t))}))})))}))},u=function(t){var i={ddurl:t,time:(new Date).getTime()},e=Object(a["a"])("post","gaut_getdingdingconfig",i);return e},g=function(t,i){var e=location.href.split("#")[0];u(e).then((function(e){void 0!==e&&0===e.code&&(dd.config({agentId:e.data.agentId,corpId:e.data.corpId,timeStamp:e.data.timeStamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["device.geolocation.get"]}),dd.ready((function(){dd.device.geolocation.get({targetAccuracy:100,coordinate:0,withReGeocode:!0,useCache:!1,onSuccess:function(i){var e=i.latitude,a=i.longitude,o=i.accuracy,r=i.address,c={};c["latitude"]=e,c["longitude"]=a,c["accuracy"]=o,c["address"]=r;var d=JSON.stringify(c);Object(n["d"])("gxqtposition_md",Object(s["a"])(d)),t(d)},onFail:function(t){i("ddlocationerror:"+JSON.stringify(error))}})})),dd.error((function(t){i("dderror:"+JSON.stringify(t))})))}))},h=function(){return new Promise((function(i,e){if(Object(n["a"])("gxqtappin"))if(Object(n["a"])("gxqtappin")&&"wechat"===Object(n["a"])("gxqtappin"))if(t("script[src='/jweixin-1.6.0.js']").length<1){var a=document.createElement("script");a.type="text/javascript",a.src="/jweixin-1.6.0.js",document.body.appendChild(a),a.onload=function(){var n=window.WeixinJSBridge;void 0===n?t(document).on("WeixinJSBridgeReady",(function(){c(i,e)})):c(i,e)}}else{var r=window.WeixinJSBridge;void 0===r?t(document).on("WeixinJSBridgeReady",(function(){c(i,e)})):c(i,e)}else if(Object(n["a"])("gxqtappin")&&"yiban"===Object(n["a"])("gxqtappin"))o().android?window.local_obj.yibanhtml5location():o().ios?ios_yibanhtml5location():e("该终端类型暂不支持使用"),window.yibanhtml5location=function(t){Object(n["d"])("gxqtposition_md",Object(s["a"])(t)),i(t)};else if(Object(n["a"])("gxqtappin")&&"wechatqy"===Object(n["a"])("gxqtappin"))if(t("script[src='/jweixin-1.6.0.js']").length<1){var d=document.createElement("script");d.type="text/javascript",d.src="/jweixin-1.6.0.js",document.body.appendChild(d),d.onload=function(){var n=window.WeixinJSBridge;void 0===n?t(document).on("WeixinJSBridgeReady",(function(){l(i,e)})):l(i,e)}}else{var u=window.WeixinJSBridge;void 0===u?t(document).on("WeixinJSBridgeReady",(function(){l(i,e)})):l(i,e)}else if(Object(n["a"])("gxqtappin")&&"dingding"===Object(n["a"])("gxqtappin"))if(t("script[src='https://g.alicdn.com/dingding/dingtalk-jsapi/2.10.3/dingtalk.open.js']").length<1){var h=document.createElement("script");h.type="text/javascript",h.src="https://g.alicdn.com/dingding/dingtalk-jsapi/2.10.3/dingtalk.open.js",document.body.appendChild(h),h.onload=function(){g(i,e)}}else g(i,e);else e("定位客户端初始化错误，请重新打开应用");else e("定位客户端初始化错误，请重新打开应用")}))}}).call(this,e("1157"))},a9d1:function(t,i,e){"use strict";(function(t){var n=e("75fc"),a=e("768b"),s=(e("ac6a"),e("ffc1"),e("66b9"),e("b650")),o=(e("ab71"),e("58e6")),r=(e("2994"),e("2bdd")),c=(e("8a58"),e("e41f")),d=e("e0c9"),l=e("3bb1"),u=e("98ed"),g=e("2b0e"),h=e("80d2");g["default"].use(h["a"]),g["default"].use(c["a"]),g["default"].use(r["a"]),g["default"].use(o["a"]),g["default"].use(s["a"]),i["a"]={name:"gxqtQingJialist",data:function(){return{search:!1,validator:{},formValue:{},gxqtformData:{},formError:[],isValid:!1,disabled:!1,model:{gxqt_qingjia_xh:{value:"",rules:{label:"学号",type:"GxqtInput"}},gxqt_qingjia_xm:{value:"",rules:{label:"姓名",type:"GxqtInput"}},gxqt_qingjia_days:{value:"",rules:{label:"请假天数",type:"GxqtInput"}},gxqt_qingjia_xy:{value:"",rules:{label:"学院",type:"GxqtSelectMultiple",placeholder:"学院",errorMsg:"学院",dataurl:"gaut_getGxqtDeptAll",fuid:"gxqttop",childid:"gxqt_qingjia_zy,deptid"}},gxqt_qingjia_zy:{value:"",rules:{label:"专业",type:"GxqtSelectMultiple",placeholder:"专业",errorMsg:"专业",dataurl:"gaut_getGxqtDeptAll",fuid:"gxqt_qingjia_xy",childid:"deptid"}},deptid:{value:"",rules:{label:"班级",type:"GxqtSelectMultiple",placeholder:"班级",errorMsg:"班级",dataurl:"gaut_getGxqtDeptAll",fuid:"gxqt_qingjia_zy",childid:""}},status:{value:"",rules:{label:"审核状态",type:"GxqtSelectMultiple",placeholder:"选择审核状态",dataurl:"rcsw_getGxqtQingJiaStatus"}},kongshipei:{value:"",rules:{hidden:!0,type:"GxqtInput"}}},error:!1,loading:!1,finished:!1,refreshing:!1,pageNum:1,pageSize:10,datalist:[],rmsoh:{add:"",edit:"",view:"",del:""}}},watch:{$route:function(){"success"===this.$route.params.type&&(this.refreshing=!0,this.onRefresh())}},provide:function(){return{_getgxqtformDataValue:this._getgxqtformDataValue,_setgxqtValue:this._setgxqtValue}},methods:{_getgxqtformDataValue:function(t){return this.gxqtformData[t]},_setgxqtValue:function(t,i){this.gxqtformData[t]=i,this.formValue[t]=i,this.model[t].value=i},_change:function(t){var i=t.value,e=t.errorMsg,n=t.isValid;this.gxqtformData=i,this.formError=e,this.isValid=n},_event:function(t){t.type,t.value},searchForm:function(){this.search=!0},searchClearForm:function(){this.gxqtformData={},this.formValue={};for(var t=0,i=Object.entries(this.model);t<i.length;t++){var e=Object(a["a"])(i[t],2),n=e[0],s=e[1];s.value instanceof Array?this.model[n].value.value=[]:this.model[n].value=""}},refreshForm:function(){this.refreshing=!0,this.onRefresh()},addForm:function(){this.$router.push({name:"rcsw_gxqtQingJiaform",params:{type:"add"}})},editForm:function(t){this.$router.push({name:"rcsw_gxqtQingJiaform",params:{type:"edit",data:t}})},viewForm:function(t){this.$router.push({name:"rcsw_gxqtQingJiaform",params:{type:"view",data:t}})},viewQingJiaDan:function(t){this.$router.push({path:"/rcsw_gxqtQingJialist/rcsw_gxqtQingJiaDanview",query:{dataId:t.gxqt_qingjia_id}})},approveForm:function(t){this.$router.push({name:"rcsw_gxqtPiJiaform",params:{type:"edit",data:t}})},zhongShenTuiHui:function(t){var i=this,e={};e.dataids=t.gxqt_qingjia_id,e.approvestatus="N",e.approvememo="强制退回",Object(d["a"])("post","rcsw_saveapproveGxqtQingJia",e).then((function(t){0===t.code?(i.$gxqttoast("退回成功"),i.refreshForm()):i.$gxqttoast(t.msg)})).catch((function(){i.$gxqttoast("系统错误")}))},delForm:function(t){var i=this;this.$gxqtdialog.confirm({title:"提示",message:"确定删除数据?"}).then((function(){Object(d["a"])("del","rcsw_delGxqtQingJia",t,!0).then((function(e){e?0===e.code?(i.datalist.splice(i.datalist.indexOf(t),1),i.$gxqttoast("删除成功")):i.$gxqttoast(e.msg):i.$gxqttoast("访问接口错误")})).catch((function(t){i.$gxqttoast("删除失败")}))})).catch((function(t){return t}))},stuXiaoJia:function(t){var i=this;this.$gxqtdialog.confirm({title:"提示",message:"确定请假结束已到校，现在要销假?"}).then((function(){i.$showLoading("发起定位"),Object(u["a"])().then((function(e){var n=JSON.parse(e);"yiban"===Object(l["a"])("gxqtappin")?i.getGdAddressByLatLog(n.latitude,n.longitude,"0",t.gxqt_qingjia_id):i.getGdAddressByLatLog(n.latitude,n.longitude,"1",t.gxqt_qingjia_id)})).catch((function(t){i.$gxqttoast({message:t,duration:5e3}),i.$cancelLoading()}))})).catch((function(t){return t}))},getGdAddressByLatLog:function(t,i,e,n){var a=this;this.$showLoading("获取详细地址...");var s={latitude:t,longitude:i,needTrans:e};Object(d["a"])("post","getGdAddressByLatLog",s).then((function(t){if(0===t.code){var i={};i.gxqt_qingjia_id=n,i.address=t.data.address,i.longitude=t.data.longitude,i.latitude=t.data.latitude,a.$showLoading("定位成功"),i.devinfo=Object(l["a"])("deviceid"),Object(d["a"])("post","rcsw_saveeditGxqtXiaoJiaByStu",i).then((function(t){0===t.code?(a.refreshForm(),a.$gxqttoast("销假成功")):a.$gxqttoast(t.msg),a.$cancelLoading()})).catch((function(t){a.$gxqttoast("销假失败")}))}else a.$gxqttoast({message:t.msg}),a.$cancelLoading()})).catch((function(t){a.$gxqttoast({message:"操作失败",iconClass:"icon-close"}),a.$cancelLoading()}))},phone_fun:function(t){"yiban"===Object(l["a"])("gxqtappin")?this.getBrowser().android?window.local_obj.phone(t):this.getBrowser().ios?phone(t):this.$gxqttoast("该终端类型暂不支持使用"):window.location.href="tel://"+t},onLoad:function(){var t=this;setTimeout((function(){t.refreshing&&(t.datalist=[],t.pageNum=1,t.pageSize=10,t.refreshing=!1),t.init_List()}),1e3)},onRefresh:function(){this.finished=!1,this.loading=!0,this.onLoad()},init_List:function(t){this.loading=!0,this.datalist.length>0&&this.pageNum++,"search"===t?this.isValid?(this.search=!1,this.datalist=[],this.pageNum=1,this.pageSize=10,this.finished=!1,this.queryList()):this.$toast(this.formError[0].errorMsg):this.queryList()},queryList:function(){var i=this,e={pageNum:this.pageNum,pageSize:this.pageSize},a=t.extend({},e,this.gxqtformData);Object(d["a"])("post","rcsw_listjsonGxqtQingJia",a).then((function(t){var e;i.rmsoh=t.data.rmsoh,(e=i.datalist).push.apply(e,Object(n["a"])(t.data.datalist)),t.data.totalPage<=t.data.pageNum&&(i.finished=!0),i.loading=!1})).catch((function(){i.loading=!1,i.error=!0}))}}}}).call(this,e("1157"))},ab71:function(t,i,e){"use strict";e("68ef"),e("e3b3"),e("6ab3")},c0c2:function(t,i,e){},df18:function(t,i,e){"use strict";e("4fd6")},f375:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("transition",[e("div",{attrs:{id:"gxqtlist"}},[e("gxqt-header",{directives:[{name:"goTop",rawName:"v-goTop:click",value:!0,expression:"true",arg:"click"}],attrs:{title:"请假记录",moremenu:!0},scopedSlots:t._u([{key:"left",fn:function(){return[e("a",{staticClass:"icon-back",on:{click:function(i){return t.$router.go(-1)}}})]},proxy:!0},{key:"rightmenu",fn:function(){return[t.rmsoh.add&&"Y"===t.rmsoh.add?e("li",{on:{click:t.addForm}},[e("i",{staticClass:"icon-add"}),t._v("新增")]):t._e(),e("li",{on:{click:t.searchForm}},[e("i",{staticClass:"icon-search"}),t._v("搜索")]),e("li",{on:{click:t.refreshForm}},[e("i",{staticClass:"icon-refresh"}),t._v("刷新")]),e("li",{on:{click:function(i){return t.$router.go(-1)}}},[e("i",{staticClass:"icon-back"}),t._v("返回")])]},proxy:!0}])}),e("van-popup",{style:{height:"70%"},attrs:{position:"top",closeable:""},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}},[e("h2",{staticClass:"gxqt-search__title"},[t._v("查询条件")]),e("gxqt-form",{ref:"gxqtform",attrs:{model:t.model,disabled:t.disabled,"label-width":"2.666rem",validator:t.validator},on:{change:t._change,event:t._event},model:{value:t.formValue,callback:function(i){t.formValue=i},expression:"formValue"}}),e("div",{staticClass:"gxqt-search__btn"},[e("van-button",{attrs:{plain:"",type:"info","native-type":"button"},on:{click:function(i){return i.stopPropagation(),t.searchClearForm(i)}}},[t._v("清空")]),t._v("\n         \n        "),e("van-button",{attrs:{type:"info","native-type":"button"},on:{click:function(i){return i.stopPropagation(),t.init_List("search")}}},[t._v(" 查询 ")])],1)],1),e("div",{directives:[{name:"overscroll",rawName:"v-overscroll:Scroll",value:!0,expression:"true",arg:"Scroll"},{name:"swiper",rawName:"v-swiper:swiperRight",value:!0,expression:"true",arg:"swiperRight"}],staticClass:"gxqtlist-content",class:{isIOS:"ios"==t.$store.state.device}},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(i){t.refreshing=i},expression:"refreshing"}},[e("van-list",{attrs:{offset:"10",finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(i){t.error=i},load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.datalist,(function(i){return e("div",{key:i.id,staticClass:"gxqtlist-item",on:{click:function(e){return e.stopPropagation(),t.viewForm(i)}}},[e("div",{staticClass:"gxqtlist-item__right"},[e("div",{staticClass:"gxqtlist-item__right-status",style:i.samplewfstyle},[t._v(t._s(i.status))])]),e("div",{staticClass:"gxqtlist-item__title",staticStyle:{width:"75%"}},[t._v(t._s(i.gxqt_qingjia_xm))]),e("div",{staticClass:"gxqtlist-item__desc"},[e("span",[t._v("学号:")]),t._v(t._s(i.gxqt_qingjia_xh)+"    "),e("span",[t._v(" 电话:")]),e("a",{on:{click:function(e){return t.phone_fun(i.gxqt_qingjia_lxdh)}}},[t._v(t._s(i.gxqt_qingjia_lxdh))])]),e("div",{staticClass:"gxqtlist-item__desc"},[e("span",[t._v("所在班级:")]),t._v(t._s(i.gxqt_qingjia_zy)+" "+t._s(i.deptid))]),e("div",{staticClass:"gxqtlist-item__desc"},[e("span",[t._v("请假原因:")]),t._v("["+t._s(i.gxqt_qingjia_leixing)+"]"+t._s(i.gxqt_qingjia_yuanyin))]),e("div",{staticClass:"gxqtlist-item__desc"},[e("span",[t._v("请假开始时间:")]),t._v(t._s(i.gxqt_qingjia_starttime))]),e("div",{staticClass:"gxqtlist-item__desc"},[e("span",[t._v("结束时间:")]),t._v(t._s(i.gxqt_qingjia_endtime)+" (请假"+t._s(i.gxqt_qingjia_days)+"天)")]),e("div",{staticClass:"gxqtlist-item__opt"},[e("div",{staticClass:"gxqtlist-item__opt-li"},[i.samplewfcode.split("|").indexOf("重新提交")>-1&&i.gxqt_qingjia_starttime<t.rmsoh.nowtime?e("van-button",{attrs:{type:"info",size:"small",plain:"",hairline:"",color:"#429e3c"},on:{click:function(e){return e.stopPropagation(),t.editForm(i)}}},[t._v("重新提交")]):t._e(),i.samplewfcode.split("|").indexOf("删除")>-1?e("van-button",{attrs:{type:"info",size:"small",plain:"",hairline:"",color:"#ff5e6e"},on:{click:function(e){return e.stopPropagation(),t.delForm(i)}}},[t._v("删除")]):t._e(),i.samplewfcode.split("|").indexOf("销假")>-1&&i.gxqt_qingjia_starttime<t.rmsoh.nowtime?e("van-button",{attrs:{type:"info",size:"small",plain:"",hairline:"",color:"#447ad5"},on:{click:function(e){return e.stopPropagation(),t.stuXiaoJia(i)}}},[t._v("我已返校 - 销假")]):t._e(),i.samplewfcode.split("|").indexOf("审核")>-1?e("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(e){return e.stopPropagation(),t.approveForm(i)}}},[t._v("审核")]):t._e(),i.samplewfcode.split("|").indexOf("强制退回")>-1?e("van-button",{attrs:{type:"info",size:"small",plain:"",hairline:"",color:"#ff5e6e"},on:{click:function(e){return e.stopPropagation(),t.zhongShenTuiHui(i)}}},[t._v("强制退回")]):t._e()],1),e("div",{staticClass:"gxqtlist-item__opt-li"},[("审核通过"===i.status||"已销假"===i.status)&&i.gxqt_qingjia_starttime<t.rmsoh.addOneDayStr&&i.gxqt_qingjia_endtime>t.rmsoh.subOneDayStr?e("van-button",{attrs:{type:"info",size:"small",plain:"",hairline:"",color:"#585858"},on:{click:function(e){return e.stopPropagation(),t.viewQingJiaDan(i)}}},[t._v("电子请假单")]):t._e()],1)])])})),0)],1)],1),e("transition",{attrs:{name:"fadeIn"}},[e("router-view")],1)],1)])},a=[],s=e("a9d1"),o=s["a"],r=(e("df18"),e("2877")),c=Object(r["a"])(o,n,a,!1,null,"89147bcc",null);i["default"]=c.exports}}]);